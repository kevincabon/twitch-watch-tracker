<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Options Twitch Watch Tracker</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .options-container {
      max-width: 380px;
      margin: 32px auto;
      background: #232336;
      border-radius: 18px;
      box-shadow: 0 4px 24px #9146ff22;
      padding: 28px 22px 22px 22px;
      color: #f4f4f5;
      display: flex;
      flex-direction: column;
      gap: 22px;
    }
    .options-title {
      font-size: 22px;
      font-weight: bold;
      color: #9146ff;
      margin-bottom: 8px;
      text-align: center;
    }
    .options-form label {
      font-weight: 600;
      margin-bottom: 4px;
      display: block;
    }
    .options-form input[type="text"], .options-form input[type="password"] {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #444;
      background: #18181b;
      color: #fff;
      margin-bottom: 14px;
      font-size: 15px;
      box-sizing: border-box;
    }
    .options-form input[type="text"]:focus, .options-form input[type="password"]:focus {
      border-color: #9146ff;
      outline: none;
    }
    .options-actions {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 10px;
    }
    .options-message {
      margin-top: 10px;
      color: #38bdf8;
      text-align: center;
      font-size: 15px;
      min-height: 20px;
    }
    .options-back {
      display: block;
      margin: 0 auto 0 0;
      color: #9146ff;
      text-decoration: none;
      font-size: 15px;
      margin-bottom: 10px;
    }
    .options-back:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="options-container">
    <a href="popup.html" class="options-back">‚Üê Retour au menu</a>
    <div class="options-title">Options Twitch Watch Tracker</div> 
    <form class="options-form" id="twitchApiForm">
        <label for="clientId">Client-ID Twitch</label>
        <input type="text" id="clientId" name="clientId" placeholder="Votre Client-ID Twitch..." autocomplete="off">
      
        <label for="token">Token d'acc√®s OAuth</label>
        <input type="password" id="token" name="token" placeholder="Votre token OAuth..." autocomplete="off">
      
        <small style="display: block; margin-top: -10px; margin-bottom: 12px; font-size: 13px;">
          <a href="https://twitchtokengenerator.com" target="_blank" style="color: #38bdf8; text-decoration: underline;">
            üîë G√©n√©rer un token OAuth Twitch (scope requis : <code>user:read:follows</code>)
          </a>
        </small>
      
        <button type="submit" class="reset-button fav-btn">üíæ Sauvegarder les identifiants API</button>
    </form>      
    <div class="options-form">
      <label style="font-weight: bold; margin-bottom: 12px; color: #9146ff; display: block;">üíæ Sauvegarde automatique</label>
      
      <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px; cursor: pointer;">
        <input type="checkbox" id="autoBackupEnabled" style="width: 18px; height: 18px; cursor: pointer;">
        <span>Activer la sauvegarde automatique</span>
      </label>
      
      <label for="autoBackupInterval" style="margin-top: 8px;">Intervalle (en minutes):</label>
      <input type="number" id="autoBackupInterval" min="1" max="10080" value="1440" style="margin-bottom: 12px;">
      
      <label for="autoBackupStorageType" style="margin-top: 12px;">Emplacement de stockage:</label>
      <select id="autoBackupStorageType" style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #444; background: #18181b; color: #fff; margin-bottom: 12px; font-size: 15px; box-sizing: border-box;">
        <option value="storage">Stockage local (limit√©, ~10 backups max)</option>
        <option value="download">T√©l√©chargement automatique (dossier T√©l√©chargements)</option>
      </select>
      <small style="display: block; margin-top: -10px; margin-bottom: 16px; font-size: 13px; color: #c4c4cc;">
        La sauvegarde se fera automatiquement toutes les X minutes (1440 min = 24h). Choisissez o√π stocker les backups.
      </small>
      
      <div id="nextBackupInfo" style="margin-bottom: 12px; padding: 10px; background: #1f1f23; border-radius: 8px; font-size: 13px; color: #c4c4cc; display: none;">
        <div style="font-weight: 600; color: #9146ff; margin-bottom: 4px;">‚è∞ Prochaine sauvegarde automatique</div>
        <div id="nextBackupTime" style="color: #e5e5ff;">Chargement...</div>
      </div>
      
      <button id="saveAutoBackupSettings" class="reset-button menu-button" style="margin-bottom: 8px;">üíæ Enregistrer les param√®tres</button>
      <button id="createManualBackup" class="reset-button menu-button" style="margin-bottom: 8px; background: linear-gradient(90deg, #38bdf8 60%, #9146ff 100%);">‚ú® Cr√©er une sauvegarde maintenant</button>
      
      <div id="backupsList" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #444;">
        <label style="font-weight: bold; margin-bottom: 12px; color: #9146ff; display: block;">üì¶ Sauvegardes automatiques</label>
        <div id="backupsInfo" style="margin-bottom: 12px; padding: 10px; background: #1f1f23; border-radius: 8px; font-size: 13px; color: #c4c4cc; display: none;">
          <span id="backupsInfoText"></span>
        </div>
        <div id="backupsContainer" style="max-height: 300px; overflow-y: auto;">
          <p style="color: #c4c4cc; font-size: 14px;">Chargement...</p>
        </div>
      </div>
    </div>
    
    <div class="options-actions">
      <button id="exportButton" class="reset-button menu-button">üì• Exporter JSON</button>
      <button id="importButton" class="reset-button menu-button">üì§ Importer JSON</button>
      <button id="resetButton" class="reset-button delete-btn">üóëÔ∏è R√©initialiser les donn√©es</button>
      <input type="file" id="fileInput" accept=".json" style="display: none;" />
      <p>Version : 0.5.4-beta</p>
    </div>
    <div class="options-message" id="optionsMessage"></div>
  </div>
  <script src="options.js"></script>
</body>
</html> 